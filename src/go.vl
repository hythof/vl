compile s = to_go(parse(s))

enum ast:
  str:
    value str
  func:
    args [str]
    body ast

struct stmt:
  name str
  lines [ast]

parse s = [stmt("main" [ast.func([] ast.str("hello go world"))])]
to_go funcs = funcs.map(from_func).join("\n")
from_func func = "func vl_" . func.name . "() string { return " . from_lines(func.lines) . "}"
from_lines lines = lines.map(from_line).join("\n")
from_line line =
| ast.str = `"` . line.value . `"`
| ast.func = from_line(line.body)
